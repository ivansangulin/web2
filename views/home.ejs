<!DOCTYPE html>
<html>
    <head>
        <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    </head>
    <body>
        <!-- <header>
            <div class="header">
                <a>Home</a>
                <a>Login</a>
                <a>Logout</a>
            </div>
        </header> -->
        <header>
            <!-- Navbar -->
            <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top">
              <div class="container-fluid">
                <button
                  class="navbar-toggler"
                  type="button"
                  data-mdb-toggle="collapse"
                  data-mdb-target="#navbarExample01"
                  aria-controls="navbarExample01"
                  aria-expanded="false"
                  aria-label="Toggle navigation"
                >
                  <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse border-bottom" id="navbarExample01">
                  <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item active">
                      <a class="nav-link" aria-current="page" href="/">Home</a>
                    </li>
                    <% if(!loggedin) { %>
                        <li class="nav-item">
                            <a class="nav-link" href="/">Login</a>
                        </li>
                    <% } %>
                    <% if(loggedin) { %>
                    <li class="nav-item">
                        <a class="nav-link" href="/login/logout">Logout</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/searchname">Search user</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="/brokenaccess">Broken access</a>
                    </li>
                    <% } %>
                    <% if(loggedin && role == "ADMIN") { %>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin">Admin only</a>
                        </li>
                    <% } %>
                  </ul>
                </div>
              </div>
            </nav>       
          </header>
          <% if(!loggedin) { %>
          <form class="mx-auto" style="width:500px;margin-top:100px" method="POST" action="/login">
            <div class="form-outline mb-4">
                <label class="form-label" for="loginusername">Username</label>
              <input type="text" id="loginusername" class="form-control" name="username"/>
            </div>
          
            <div class="form-outline mb-4">
                <label class="form-label" for="loginpassword">Password</label>
              <input type="password" id="loginpassword" class="form-control" name="password"/>
            </div>
          
            <input type="submit" class="btn btn-primary btn-block mb-4" value="Login"></input>
            </div>
          </form>
          <% } else { %>
            <div class="mx-auto border p-2 rounded text-center" style="width:500px;margin-top:100px">
                Logged in
            </div>
          <% } %>
    </body>
</html>
